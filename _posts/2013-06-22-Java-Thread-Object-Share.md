---
layout: post
category: 多线程对象的共享
tags: 多线程对象的共享
title: 多线程对象的共享
description: 在并发程序中使用和共享对象时，可以使用一些实用的策略。
---

### 线程封闭
    
####线程封闭的对象只能由一个线程拥有，对象被封闭在该线程中，并且只能由这个线程修改。
	
实现方式有以下3种：
	
#### 1.Ad-hoc 线程封闭
	    维护线程封闭性的职责完全由程序实现来承担。但是该技术非常脆弱，因此在程序中尽量少使用。
	
#### 2.栈封闭
	    说白了就是局部变量，局部变量的固有属性之一就是封闭在执行线程中。它们位于执行线程的栈中，其它线程无法访问这个栈。
	 
#### 3.ThreadLocal类
	    维持线程封闭性的一种更规范的方法，这个类能使线程中的某个值与保存值的对象关联起来。ThreadLocal提供了get和set等访问接口或方法，这些方法为每个使用该变量的线程都存有一份独立的副本，因此get总是返回由当前线程在调用set时设置的最新值。
  [ThreadLocal详解](http://www.cnblogs.com/tianchi/archive/2012/12/14/2817155.html "ThreadLocal详解")
  
### 只读对象
        在没有额外同步的情况下，共享的只读对象可以由多个线程并发访问，但任何线程都不能修改它。共享的只读对象包括不可变对象(final修饰)和事实不可变对象。
	
### 线程安全共享
    
	    线程安全的对象在其内部实现同步，一次多个线程可以通过对象的公有接口来访问而不需要进一步同步。

### 保护对象
     
	    被保护的对象只能通过持有特定的锁来访问。保护对象包括封装在其他线程安全对象中的对象，以及已发布的并且由某个特定的锁保护的对象。
	


	
    	